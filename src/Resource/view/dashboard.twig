{% extends frontend_layout %}

{% block javascripts %}
  {{ parent() }}
  <script src="/js/arbor.js" type="text/javascript" language="javascript"></script>
  <script src="/js/arbor-tween.js" type="text/javascript" language="javascript"></script>
  <script src="/js/graphics.js" type="text/javascript" language="javascript"></script>
  <script src="/js/renderer.js" type="text/javascript" language="javascript"></script>
{% endblock %}

{% block body %}
  <div class="row">
    <div class="span12">
      <div>
        {% include 'left_side.twig' %}
        <div class="span6">
          <canvas height="350" width="570" id="viewport" class="span6"></canvas>
          <script type="text/javascript" language="javascript">
            var colour = {
              orange:"#EEB211",
              darkblue:"#21526a",
              purple:"#941e5e",
              limegreen:"#c1d72e",
              darkgreen:"#619b45",
              lightblue:"#009fc3",
              pink:"#d11b67",    
            }
            var data = {
              nodes:{
                HOME:{
                  color:colour.orange,
                  shape:'dot',
                  radius:39,
                  alpha:1,
                  label: 'DASHBOARD',
                  link: '/dddd'},
                LR:{
                  color:colour.darkblue, 
                  shape:'dot', 
                  radius:30,
                  alpha:1,
                  label: 'LANDRACE'},
                CWR:{
                  color:colour.purple, 
                  shape:'dot',
                  radius:40,
                  alpha:1,
                  label: 'CROP WILD RACE' },
               TRAIT: {
                  color:colour.limegreen,               
                  shape:'dot',
                  radius:35,
                  alpha:1,
                  label: 'TRAIT' },
              },
              edges:{
                HOME:{
                  LR:{}, 
                  CWR:{}, 
                  TRAIT:{}
                },
              }
            }
            
            var sys = arbor.ParticleSystem()
            sys.parameters({stiffness:900, repulsion:2000, gravity:true, dt:0.015})
            sys.renderer = Renderer("#viewport");
            sys.graft(data);
            
            var nav = Nav("#nav")
            $(sys.renderer).bind('navigate', nav.navigate)
            $(nav).bind('mode', sys.renderer.switchMode)
            nav.init()
          </script>
        </div>
        <div class="span2">          
          <div class="span2 sidewell">
            <h2>LR</h2>
            <p><a class="btn btn-primary btn-large" href="{{ path('add_tag') }}">Browse data</a></p>
          </div>
          <div class="span2 sidewell">
            <h2>CWR</h2>
            <p><a class="btn btn-primary btn-large" href="{{ path('add_tag') }}">Browse data</a></p>
          </div>
          <div class="span2 sidewell">
            <h2>TRAIT</h2>
            <p><a class="btn btn-primary btn-large" href="{{ path('add_tag') }}">Browse data</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}